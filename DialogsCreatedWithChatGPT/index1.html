<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>Bootstrap modal using JavaScript</title>

    <link href="Lib/bootstrap/dist/css/bootstrap.css" rel="stylesheet" />
    <script src="Lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <link href="Lib/styles/headers.css" rel="stylesheet" />

    <script src="lib/debugHelper.js"></script>

    <!--suppress no favicon-->
    <link rel="shortcut icon" href="#">

    <!-- styles are here temp and once okay move to a .css file(s) -->
    <style>
        .icon {
            width: 1em;
            height: 1em;
            vertical-align: -.125em; /* baseline alignment */
            margin-right: 0.35em; /* tweak as needed */
        }
    </style>

</head>
<body>
    <div class="nine mt-3">
        <h1>bootstrap 5.3 modal <span> with JavaScript to populate</span></h1>
    </div>

    <main>
        <div class="container text-center">
            <!-- Normally would use an event listener here -->
            <button class="btn btn-success"
                    onclick="showPerson('Karen Payne', '(555) 123-4567', 'karen@example.com')">

                <svg class="icon"><use href="#icon-window"></use></svg>Demo

            </button>

        </div>
    </main>


    <!-- ===== Modal ===== -->
    <div class="modal fade" id="personModal" tabindex="-1"
         aria-labelledby="personModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">

                <!-- Header with title and X -->
                <div class="modal-header">

                    <h1 class="modal-title fs-5" id="personModalLabel">Person Details</h1>

                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>

                <!-- Body – two-column layout, left labels right-aligned -->
                <div class="modal-body">

                    <div class="row mb-2 align-items-center">
                        <div class="col-4 text-end fw-bold">
                            Name:
                        </div>
                        <div class="col-8">
                            <label id="lblFirstName" class="form-label mb-0"></label>
                        </div>
                    </div>

                    <div class="row mb-2 align-items-center">
                        <div class="col-4 text-end fw-bold">
                            Phone:
                        </div>
                        <div class="col-8">
                            <label id="lblPhone" class="form-label mb-0"></label>
                        </div>
                    </div>

                    <div class="row mb-2 align-items-center">
                        <div class="col-4 text-end fw-bold">
                            Email:
                        </div>
                        <div class="col-8">
                            <label id="lblEmail" class="form-label mb-0"></label>
                        </div>
                    </div>

                </div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-success" data-bs-dismiss="modal">
                        Close
                    </button>
                </div>

            </div>
        </div>
    </div>

    <!-- Icon sprite: include once - best to go with a 'I' class -->
    <svg xmlns="http://www.w3.org/2000/svg" style="display:none;">
        <!-- Window icon -->
        <symbol id="icon-window" viewBox="0 0 16 16" fill="currentColor">
            <path d="M2.5 4a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1m2-.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0m1 .5a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1" />
            <path d="M2 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2zm13 2v2H1V3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1M2 14a1 1 0 0 1-1-1V6h14v7a1 1 0 0 1-1 1z" />
        </symbol>
    </svg>

    <script>
        document.addEventListener("DOMContentLoaded",
            () => {
                document.addEventListener('keydown',
                    function (event) {

                        if (event.key === '1' && event.altKey && event.ctrlKey) {
                            // this is for development environment
                            $debugHelper.toggle(true);
                        }
                    });
            });

        function showPerson(firstName, phone, email) {

            document.getElementById('lblFirstName').textContent = firstName;
            document.getElementById('lblPhone').textContent = phone;
            document.getElementById('lblEmail').textContent = email;

            const modal = new bootstrap.Modal(document.getElementById('personModal'));
            modal.show();
        }
    </script>


</body>
</html>